---
import Base from "@layouts/Base.astro";
import { nativePosts, site } from "@lib/strapi";
import { removeSpecialChars } from "@lib/utils/textConverter";
import { FaTwitter, FaFacebookF } from "react-icons/fa6";
const content = site[0].termsOfService;
const heroPosts = nativePosts.slice(0, 3);
---

<Base>
  <section class="section pb-0 pt-[10px] ccpa-page">
    <div class="container">
      <div class="grid md:grid-cols-3 gap-4 py-4">
        <div class="md:col-span-2 p-2 condation-text">
          <div class="mb-16 text-left text-[#000] px-[15px]">
            <div class="w-full p-[10px] mb-[20px]">
              <h1 class="md:text-[36px] text-[22px] text-[#000]">Terms of Service</h1>
            </div>
            <div class="w-full flex items-center justify-end social_icons mb-[30px]">
              <span class="text-[#fff] text-[14px]"
                ><a href="#" class="flex items-center justify-center"
                  ><FaTwitter /></a
                ></span
              >
              <span class="text-[#fff] text-[14px]"
                ><a href="#" class="flex items-center justify-center"
                  ><FaFacebookF /></a
                ></span
              >
            </div>
            <div class="text-[#000] break-words">
              <div set:html={content} />
            </div>
          </div>
        </div>
        <div class="md:col-span-1 px-4 lg:pl-[2rem]">
          {
            heroPosts.map((post) => (
              <div class="single_post">
                {post.imageUrl && (
                  <img
                    class=" transition duration-300 w-full h-full object-cover"
                    src={
                      post.imageSmallUrl
                        ? post.imageSmallUrl
                        : post.imageMediumUrl || "/images/placeholder.png"
                    }
                    width={
                      post.imageSmallWidth
                        ? post.imageSmallWidth
                        : post.imageMediumWidth
                    }
                    height={
                      post.imageSmallHeight
                        ? post.imageSmallHeight
                        : post.imageMediumHeight
                    }
                    alt={post.title}
                    fetchpriority={"high"}
                    loading={"eager"}
                    decoding="async"
                  />
                )}
                <h2>
                  {post?.title}
                </h2>
                <span>{post.author}</span>
                <p>
                  {removeSpecialChars(post.content)?.slice(0,80)}...
                </p>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </section>

</Base>
