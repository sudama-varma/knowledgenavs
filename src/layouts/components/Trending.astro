---
import type { Post } from "@interf/post";
import { AiFillFolderOpen } from "react-icons/ai/index.js";

const {
  className,
  posts,
  type,
  title,
}: {
  className: any;
  posts: Post[];
  fluid: any;
  category: string;
  type: string;
  title: string;
} = Astro.props as {
  className: any;
  posts: Post[];
  fluid: any;
  category: string;
  type: string;
  title: string;
};
---

<style>
  .for-over-style:hover img {
    border-radius: 10px !important;
    transition: 0.5s ease-in-out;
  }
</style>

{
  type === "row" ? (
    <div class={`col-12 ${className}`}>
      <h4 class="text-[#13305a] text-[20px] font-primary font-medium h3 mb-[25px]">
        {title ? title : "Trending articles"}
      </h4>
      <div class="flex flex-col sm:flex-row gap-4 sm:gap-6 md:gap-10">
        {posts.map((post: Post, i: number) => (
          <div
            class={
              "flex basis-1/3 flex-col justify-between items-center md:min-h-[325px] w-full "
            }
          >
            <div>
              {post.imageUrl && (
                <a
                  href={`/${post.slug}/`}
                  class="rounded-2xl block self-center overflow-hidden group mb-2 sm:mb-[10px] w-full"
                >
                  <img
                    class="transition duration-300 object-cover w-full h-[223px]"
                    src={
                      post.imageSmallUrl
                        ? post.imageSmallUrl
                        : post.imageMediumUrl || "/images/placeholder.png"
                    }
                    width={
                      post.imageSmallWidth
                        ? post.imageSmallWidth
                        : post.imageMediumWidth
                    }
                    height={
                      post.imageSmallHeight
                        ? post.imageSmallHeight
                        : post.imageMediumHeight
                    }
                    alt={post.title}
                    fetchpriority={"low"}
                    loading={"lazy"}
                    decoding="async"
                  />
                </a>
              )}
              <a
                href={`/${post.slug}/`}
                class="block sm:mb-2 text-[18px] font-medium text-[#13305a] transition duration-300"
              >
                {post.title}
              </a>
              <a href="#" class="text-[12px] font-normal text-[#00adef]">
                {post.author}
              </a>
            </div>
            {/* <a
              href={`/${post.slug}/`}
              class="block w-full transition duration-300 mx-auto bg-primary hover:bg-primary/75 rounded-3xl p-2 text-center text-white text-2xl font-bold"
            >
              READ ARTICLE
            </a> */}
          </div>
        ))}
      </div>
    </div>
  ) : type === "column" ? (
    <div class={`flex flex-col gap-4 ${className}`}>
      <h4 class="text-[#13305a] text-[20px] font-primary font-medium h3 mb-2">
        {title ? title : "Trending Articles"}
      </h4>
      {posts.map((post: Post, i: number) => (
        <div
          class={
            " flex flex-col md:flex-row gap-[30px] pr-3 py-2 md:w-[748px] sm:w-full items-center"
          }
        >
          <div class="col-12 sm:col-12 md:col-4 flex items-center">
            {post.imageUrl && (
              <a
                href={`/${post.slug}/`}
                class="rounded-2xl block self-center sm:w-full sm:h-full md:h-auto hover:text-primary overflow-hidden group"
              >
                <img
                  class="group-hover:opacity-[0.9] transition object-cover duration-300 w-full min-h-[165px] "
                  src={post.imageSmallUrl || "/images/placeholder.png"}
                  width={post.imageSmallWidth}
                  height={post.imageSmallHeight}
                  alt={post.title}
                  fetchpriority={"low"}
                  loading={"lazy"}
                  decoding="async"
                />
              </a>
            )}
          </div>
          <div class="col-12 sm:col-12 md:col-8 flex flex-col gap-2">
            <a
              href={`/${post.slug}/`}
              class="inline-block text-[18px] font-medium leading-[24px] text-[#13305a] transition duration-300  break-words"
            >
              {post.title}
            </a>
            <a href="#" class="text-[12px] text-[#00adef]">
              {post.author}
            </a>
            <p class="text-[14px] text-[#666666] break-words font-normal">
              If youâ€™re planning a trip to Japan for the first time, here are
              some suggestions to help you ...
            </p>
            {/* <p class="text-[#798A92]">
              {removeSpecialChars(
                post.content?.slice(0, Number(summary_length * 2.5))
              )}
              ...
            </p> */}
            {/* <a
              href={`/${post.slug}/`}
              class="block py-2 mt-4 text-white text-center sm:max-w-80 bg-primary hover:bg-primary/75 rounded-lg font-bold transition duration-300"
            >
              READ ARTICLE
            </a> */}
          </div>
        </div>
      ))}
    </div>
  ) : type === "footer" ? (
    <div class={`flex flex-col gap-4 ${className}`}>
      <h4 class="text-[#bf1d20] uppercase font-primary h3 mb-4 text-[14px] font-bold">
        {title ? title : "Trending Articles"}
      </h4>
      {posts.map((post: Post) => (
        <div class={"flex flex-row for-over-style"}>
          {post.imageUrl && (
            <a
              href={`/${post.slug}/`}
              class="self-center overflow-hidden transition p-[1rem] ease-in-out duration-[.6s] flex items-center gap-[30px] hover:bg-[#bf1d20] rounded-[20px]"
            >
              <div class="max-w-[33.333333%] rounded-[20px] overflow-hidden">
                <img
                  class=" transition ease-in-out duration-[.6s] w-full"
                  src={
                    post.imageSmallUrl
                      ? post.imageSmallUrl
                      : post.imageMediumUrl || "/images/placeholder.png"
                  }
                  width={
                    post.imageSmallWidth
                      ? post.imageSmallWidth
                      : post.imageMediumWidth
                  }
                  height={
                    post.imageSmallHeight
                      ? post.imageSmallHeight
                      : post.imageMediumHeight
                  }
                  alt={post.title}
                  fetchpriority={"low"}
                  loading={"lazy"}
                  decoding="async"
                />
              </div>
              <div class="w-auto">
                <p class="text-white font-medium text-sm">{post.title}</p>
                <div class="flex gap-[15px] mt-[6px]">
                  <span class="flex gap-[5px] text-[#00adef] items-center text-[12px]">
                    
                    {post.author}
                  </span>
                </div>
              </div>
            </a>
          )}
        </div>
      ))}
    </div>
  ) : (
    <div />
  )
}
