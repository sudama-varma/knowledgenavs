---
import type { Post } from "@interf/post";

const {
  className,
  posts,
}: { className: any; posts: Post[]; fluid: any; category: string } =
  Astro.props as {
    className: any;
    posts: Post[];
    fluid: any;
    category: string;
  };
---

<div
  class={`relative col-12 flex flex-col w-full max-w-full md:flex-row justify-center ${className}`}
>
<div class="md:pr-4 max-w-[100%] w-100 md:max-w-[calc(66.666667%-0px)]">
  <div
    class="relative max-w-[100%]  group w-full  overflow-hidden rounded-[20px] h-[270px] md:h-[500px] after:content:[''] after:w-full after:h-full after:absolute after:top-0 after:left-0 after:bg-[#000] after:opacity-[.5] after:z-[0] z-1 "
  >
    {
      posts[0]?.imageUrl && (
        <a
          href={`/${posts[0].slug}/`}
          class="rounded-[20px] block self-center hover:text-primary overflow-hidden md:h-[500px]  h-[270px]"
        >
          <img
            class=" transition duration-300 object-cover w-full h-full overflow-hidden"
            srcset={`
          ${posts[0].imageSmallUrl || "/images/placeholder.png"} ${posts[0].imageSmallWidth}w,
          ${posts[0].imageMediumUrl || "/images/placeholder.png"} ${posts[0].imageMediumWidth}w
        `}
            sizes={"(max-width: 768px) 480px, (min-width: 769px) 500px"}
            src={posts[0].imageMediumUrl || "/images/placeholder.png"}
            width={posts[0].imageMediumWidth}
            height={posts[0].imageMediumHeight}
            alt={posts[0].title}
            fetchpriority={"high"}
            loading={"eager"}
            decoding="async"
          />
          <div class="w-full absolute bottom-[10px]  z-[2]">
            <h2 class="w-full py-3 ms-0 me-3 px-3 text-white font-medium z-10 md:text-[28px] md:leading-[32px] lg:text-[40px] text-[18px] leading-[26px] lg:leading-[48px]">
              {posts[0].title}
            </h2>
            <div class="w-[calc(100%-20px)] m-auto flex gap-[10px]  px-3 group-hover:border-b-2 group-hover:border-white">
              <span class="author text-[14px] text-[#00adef]">
                Meddiah Crew
              </span>
              <span class="text-[#fff] text-[14px]">{posts[0].categories}</span>
              <span class="tag text-[#fff] text-[14px] capitalize relative after:content:[''] after:absolute after:h-[4px] after:w-[4px] after:bg-white after:left-[-10px] after:top-[8px] after:rounded-full">people</span>
            </div>
          </div>
          {/* <div class="absolute z-2 h-full inset-x-0 sm:mx-1 md:mx-2 bottom-0 gradient-shadow rounded-md" /> */}
        </a>
      )
    }
  </div>
</div>
  <div
    class="hidden flex-col max-w-[100%] md:max-w-[calc(33.333333%-0px)] w-full justify-start gap-[20px] sm:px-1 md:pl-4 sm:hidden md:flex"
  >
    {
      posts.map(
        (post: Post, i: number) =>
          i !== 0 && (
            <div class="flex flex-row gap-4 w-full overflow-hidden group rounded-[20px] z-1 relative after:content:[''] after:w-full after:h-full after:absolute after:top-0 after:left-0 after:bg-[#000] after:opacity-[.5] after:z-[0] h-[240px] ">
              <a
                href={`/${post.slug}/`}
                class="rounded-md block self-center hover:text-primary overflow-hidden h-[240px] w-full"
              >
                {post.imageUrl && (
                  <img
                    class=" transition duration-300 w-full h-full object-cover"
                    src={
                      post.imageSmallUrl
                        ? post.imageSmallUrl
                        : post.imageMediumUrl || "/images/placeholder.png"
                    }
                    width={
                      post.imageSmallWidth
                        ? post.imageSmallWidth
                        : post.imageMediumWidth
                    }
                    height={
                      post.imageSmallHeight
                        ? post.imageSmallHeight
                        : post.imageMediumHeight
                    }
                    alt={post.title}
                    fetchpriority={"high"}
                    loading={"eager"}
                    decoding="async"
                  />
                )}
                <div class="w-full bottom-[10px] absolute  z-[2]">
                  <h2 class="text-[#fff] transition duration-300 lg:text-[18px] text-[18px] md:text-[16px] w-full lg:px-[15px] md:px-[15px] py-[10px] px-[10px] sm:px-[10px]">
                    {post.title}
                  </h2>
                  <div class="w-[calc(100%-20px)] m-auto lg:px-[5px] flex gap-[10px]  px-[10px] sm:px-[10px] md:px-[15px] group-hover:border-b-2 group-hover:border-white">
                    <span class="author text-[14px] text-[#00adef]">
                      Meddiah Crew
                    </span>
                    {/* <span class="text-[#fff] text-[14px]">
                      {post.categories}
                    </span> */}
                    {/* <span class="tag text-[#fff] text-[14px]">people</span> */}
                  </div>
                </div>
              </a>
              {/* <div class="w-[250px]">
                <a href={`/${post.slug}/`} class="block">
                  
                </a>
              </div> */}
            </div>
          )
      )
    }
    <!-- <a
      href="/categories/all/"
      class="block w-full transition duration-300 mx-auto mt-2 bg-primary hover:bg-primary/75 rounded-3xl p-2 text-center text-white text-2xl font-bold"
      >READ ALL ARTICLES</a
    > -->
  </div>
</div>
